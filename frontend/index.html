<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Assistant</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --bg: #000;
        --surface: #111;
        --surface-light: #1a1a1a;
        --surface-hover: #252525;
        --text: #fff;
        --muted: #71717a;
        --radius: 18px;
        --sidebar-width: 280px;
        --transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        --glow: rgba(139, 92, 246, 0.35);
        --glow-border: #8b5cf6;
        --skeleton-base: #1a1a1a;
        --skeleton-shine: #2a2a2a;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: Inter, sans-serif;
        background: var(--bg);
        color: var(--text);
        height: 100vh;
        display: flex;
        overflow: hidden;
      }

      /* Skeleton Shimmer Animation */
      @keyframes shimmer {
        0% {
          background-position: -200% 0;
        }
        100% {
          background-position: 200% 0;
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(6px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .skeleton {
        background: linear-gradient(
          90deg,
          var(--skeleton-base) 25%,
          var(--skeleton-shine) 50%,
          var(--skeleton-base) 75%
        );
        background-size: 200% 100%;
        animation: shimmer 1.5s infinite ease-in-out;
        border-radius: 6px;
      }

      /* Sidebar Overlay */
      .sidebar-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.6);
        z-index: 99;
        opacity: 0;
        visibility: hidden;
        transition: opacity var(--transition), visibility var(--transition);
        backdrop-filter: blur(4px);
      }

      .sidebar-overlay.active {
        opacity: 1;
        visibility: visible;
      }

      /* Toggle Button - Always Visible */
      .menu-toggle-btn {
        display: none;
        position: fixed;
        top: 16px;
        left: 16px;
        width: 44px;
        height: 44px;
        border-radius: 12px;
        background: var(--surface);
        border: 1px solid var(--surface-light);
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 98;
        transition: all var(--transition);
      }

      .menu-toggle-btn:hover {
        background: var(--surface-light);
        transform: scale(1.05);
      }

      .menu-toggle-btn:active {
        transform: scale(0.95);
      }

      .menu-toggle-btn svg {
        width: 20px;
        height: 20px;
        stroke: var(--text);
        stroke-width: 2;
        fill: none;
      }

      /* Sidebar */
      .sidebar {
        position: fixed;
        left: 0;
        top: 0;
        width: var(--sidebar-width);
        height: 100vh;
        background: var(--surface);
        border-right: 1px solid var(--surface-light);
        display: flex;
        flex-direction: column;
        z-index: 100;
        transform: translateX(-100%);
        transition: transform var(--transition);
      }

      .sidebar.open {
        transform: translateX(0);
      }

      /* Sidebar Header */
      .sidebar-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 16px;
        border-bottom: 1px solid var(--surface-light);
        min-height: 68px;
      }

      .sidebar-brand {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .sidebar-logo {
        width: 36px;
        height: 36px;
        border-radius: 10px;
        background: linear-gradient(135deg, #8b5cf6, #3b82f6);
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        font-size: 16px;
      }

      .sidebar-title {
        font-size: 16px;
        font-weight: 600;
      }

      .close-sidebar-btn {
        width: 36px;
        height: 36px;
        border-radius: 10px;
        background: transparent;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: background var(--transition);
      }

      .close-sidebar-btn:hover {
        background: var(--surface-light);
      }

      .close-sidebar-btn svg {
        width: 20px;
        height: 20px;
        stroke: var(--muted);
        stroke-width: 2;
        fill: none;
      }

      /* New Chat Button */
      .new-chat-btn {
        margin: 16px;
        padding: 12px 16px;
        background: var(--glow-border);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        cursor: pointer;
        font-weight: 500;
        font-size: 14px;
        transition: all var(--transition);
      }

      .new-chat-btn:hover {
        filter: brightness(1.15);
        transform: translateY(-1px);
      }

      .new-chat-btn svg {
        width: 18px;
        height: 18px;
        stroke: currentColor;
        stroke-width: 2;
        fill: none;
      }

      /* Sidebar Content */
      .sidebar-content {
        flex: 1;
        overflow-y: auto;
        padding: 8px 12px;
      }

      .sidebar-section {
        margin-bottom: 20px;
      }

      .sidebar-section-title {
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        color: var(--muted);
        margin-bottom: 8px;
        padding: 0 12px;
        font-weight: 500;
      }

      /* Chat Items */
      .chat-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 10px 12px;
        border-radius: 10px;
        cursor: pointer;
        transition: background var(--transition);
        margin-bottom: 2px;
      }

      .chat-item:hover {
        background: var(--surface-light);
      }

      .chat-item.active {
        background: var(--surface-hover);
      }

      .chat-icon {
        width: 36px;
        height: 36px;
        border-radius: 10px;
        background: var(--surface-light);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
        flex-shrink: 0;
      }

      .chat-item.active .chat-icon {
        background: var(--surface-hover);
        border: 1px solid var(--glow-border);
      }

      .chat-text {
        flex: 1;
        min-width: 0;
      }

      .chat-title {
        font-size: 14px;
        font-weight: 500;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .chat-subtitle {
        font-size: 12px;
        color: var(--muted);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        margin-top: 2px;
      }

      /* Skeleton Items */
      .skeleton-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 10px 12px;
        margin-bottom: 2px;
      }

      .skeleton-icon {
        width: 36px;
        height: 36px;
        border-radius: 10px;
        flex-shrink: 0;
      }

      .skeleton-text-group {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .skeleton-text {
        height: 14px;
        border-radius: 4px;
      }

      .skeleton-text.w-full {
        width: 100%;
      }
      .skeleton-text.w-75 {
        width: 75%;
      }
      .skeleton-text.w-50 {
        width: 50%;
      }

      .skeleton-text-sm {
        height: 10px;
        width: 60%;
        border-radius: 4px;
      }

      /* Sidebar Footer */
      .sidebar-footer {
        padding: 12px;
        border-top: 1px solid var(--surface-light);
      }

      .footer-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 10px 12px;
        border-radius: 10px;
        cursor: pointer;
        transition: background var(--transition);
        margin-bottom: 2px;
      }

      .footer-item:hover {
        background: var(--surface-light);
      }

      .footer-icon {
        width: 36px;
        height: 36px;
        border-radius: 10px;
        background: var(--surface-light);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
      }

      .footer-icon svg {
        width: 18px;
        height: 18px;
        stroke: var(--muted);
        stroke-width: 2;
        fill: none;
      }

      .footer-item span {
        font-size: 14px;
      }

      .user-avatar {
        background: linear-gradient(135deg, #8b5cf6, #3b82f6) !important;
        font-weight: 600;
        font-size: 14px;
        color: white;
        height: 100%;
        width: 100%;
        border-radius: 50%;
      }

      /* Main */
      .main {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 24px;
        padding-left: 80px;
        position: relative;
        animation: fadeIn 0.5s ease forwards;
      }

      /* Top right */
      .top-right {
        position: absolute;
        top: 20px;
        right: 24px;
        display: flex;
        gap: 18px;
        font-size: 14px;
        color: var(--muted);
      }

      .top-right span {
        cursor: pointer;
        transition: color 0.2s ease;
      }

      .top-right span:hover {
        color: var(--text);
      }

      /* Greeting */
      .greeting {
        text-align: center;
        margin-bottom: 26px;
      }

      .status-dot {
        display: inline-block;
        width: 8px;
        height: 8px;
        background: #22c55e;
        border-radius: 50%;
        margin-right: 8px;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.6;
          transform: scale(0.9);
        }
      }

      .greeting h1 {
        font-size: 26px;
        font-weight: 600;
      }

      .greeting p {
        font-size: 20px;
        color: var(--muted);
        margin-top: 6px;
      }

      /* Prompt */
      .prompt-box {
        width: 100%;
        max-width: 720px;
        background: var(--surface);
        border: 1px solid var(--surface-light);
        border-radius: var(--radius);
        padding: 14px 16px;
        display: flex;
        align-items: center;
        gap: 12px;
        transition: all 0.25s ease;
      }

      .prompt-box:focus-within {
        border-color: var(--glow-border);
        box-shadow: 0 0 0 3px var(--glow);
      }

      .prompt-box input {
        flex: 1;
        background: transparent;
        border: none;
        outline: none;
        color: var(--text);
        font-size: 16px;
      }

      .prompt-box input::placeholder {
        color: var(--muted);
      }

      .send-btn {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: var(--glow-border);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.2s ease;
        flex-shrink: 0;
      }

      .send-btn:hover {
        filter: brightness(1.15);
        transform: scale(1.05);
      }

      .send-btn:active {
        transform: scale(0.95);
      }

      .send-btn svg {
        width: 18px;
        height: 18px;
        fill: white;
        margin-left: 2px;
      }

      /* ---------------------------------
   IMPORTED PERSONALITY MENU STYLES
   --------------------------------- 
*/
      .personality {
        margin-top: 12px;
        display: flex;
        gap: 6px;
        background: var(--surface);
        padding: 6px;
        border-radius: 999px;
        border: 1px solid var(--surface-light);
      }

      .personality button {
        padding: 6px 14px;
        border-radius: 999px;
        border: none;
        background: none;
        color: var(--muted);
        cursor: pointer;
        font-size: 13px;
        font-family: inherit;
        transition: all 0.2s ease;
      }

      .personality button:hover {
        color: var(--text);
      }

      .personality button.active {
        background: var(--surface-hover);
        color: var(--text);
        font-weight: 500;
      }

      /* Secondary actions */
      .secondary-actions {
        width: 100%;
        max-width: 100px;
        display: flex;
        justify-content: space-between; /* Keeps Add Files on left */
        align-items: center;
        font-size: 14px;
        color: var(--muted);
        border-right: 2px solid var(--text);
      }

      .secondary-actions button {
        background: transparent;
        border: none;
        color: var(--muted);
        cursor: pointer;
        font-family: inherit;
        font-size: 14px;
        transition: color 0.2s ease;
      }

      .secondary-actions button:hover {
        color: var(--text);
      }

      /* Chips */
      .quick-actions {
        margin-top: 22px;
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        justify-content: center;
        max-width: 720px;
      }

      .chip {
        padding: 10px 18px;
        background: var(--surface);
        border: 1px solid var(--surface-light);
        border-radius: 999px;
        font-size: 14px;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .chip:hover {
        background: var(--surface-light);
        border-color: var(--surface-hover);
        transform: translateY(-2px);
      }

      /* Scrollbar */
      .sidebar-content::-webkit-scrollbar {
        width: 6px;
      }

      .sidebar-content::-webkit-scrollbar-track {
        background: transparent;
      }

      .sidebar-content::-webkit-scrollbar-thumb {
        background: var(--surface-light);
        border-radius: 6px;
      }

      .sidebar-content::-webkit-scrollbar-thumb:hover {
        background: var(--muted);
      }

      /* Responsive */
      @media (max-width: 768px) {
        .main {
          padding: 24px 16px;
          padding-top: 80px;
          padding-left: 16px;
        }

        .greeting h1 {
          font-size: 22px;
        }

        .greeting p {
          font-size: 16px;
        }

        .prompt-box {
          padding: 12px 14px;
        }

        .quick-actions {
          padding: 0 8px;
        }

        .chip {
          font-size: 13px;
          padding: 8px 14px;
        }
      }

      @media (max-width: 480px) {
        .top-right {
          top: 20px;
          right: 16px;
          gap: 14px;
          font-size: 13px;
        }

        .quick-actions {
          gap: 8px;
        }

        .chip {
          font-size: 12px;
          padding: 8px 12px;
        }

        /* Make personality menu scrollable on very small screens if needed */
        .personality {
          max-width: 100%;
          overflow-x: auto;
        }
      }

      #user-button1 {
        height: 36px;
        width: 36px;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      /* Chat Messages Container */
      #chatContainer {
        width: 100%;
        max-width: 1080px;
        flex: 1;
        overflow-y: auto;
        display: none;
        padding: 40px 10px;
        margin-bottom: 20px;
        margin-top: 20px;
      }

      .message {
        margin-bottom: 32px;
        display: flex;
        flex-direction: column;
        animation: fadeIn 0.4s ease forwards;
      }

      .message.user {
        align-items: flex-end;
      }
      .message.ai {
        align-items: flex-start;
      }

      .message-label {
        font-size: 11px;
        font-weight: 700;
        color: var(--muted);
        margin-bottom: 8px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .message-content {
        max-width: 85%;
        padding: 12px 18px;
        border-radius: 18px;
        font-size: 16px;
        line-height: 1.6;
      }

      .user .message-content {
        background: var(--surface-light);
        color: var(--text);
        border-bottom-right-radius: 4px;
      }

      .ai .message-content {
        background: transparent;
        color: var(--text);
        padding-left: 0;
      }

      /* Scrollbar */
      #chatContainer::-webkit-scrollbar {
        width: 6px;
      }
      #chatContainer::-webkit-scrollbar-thumb {
        background: var(--surface-light);
        border-radius: 10px;
      }
    </style>
  </head>

  <body>
    <div class="menu-toggle-btn" id="menuToggle">
      <svg viewBox="0 0 24 24">
        <line x1="3" y1="6" x2="21" y2="6"></line>
        <line x1="3" y1="12" x2="21" y2="12"></line>
        <line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </div>

    <div class="sidebar-overlay" id="overlay"></div>

    <nav class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-brand">
          <div class="sidebar-logo">AI</div>
          <div class="sidebar-title">AI Assistant</div>
        </div>
        <div class="close-sidebar-btn" id="closeSidebar">
          <svg viewBox="0 0 24 24">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </div>
      </div>

      <div class="new-chat-btn">
        <svg viewBox="0 0 24 24">
          <line x1="12" y1="5" x2="12" y2="19"></line>
          <line x1="5" y1="12" x2="19" y2="12"></line>
        </svg>
        <span>New Chat</span>
      </div>

      <div class="sidebar-content" id="sidebarContent">
        <div id="skeletonLoader">
          <div class="sidebar-section">
            <div class="skeleton-item">
              <div class="skeleton skeleton-icon"></div>
              <div class="skeleton-text-group">
                <div class="skeleton skeleton-text w-full"></div>
                <div class="skeleton skeleton-text-sm"></div>
              </div>
            </div>
            <div class="skeleton-item">
              <div class="skeleton skeleton-icon"></div>
              <div class="skeleton-text-group">
                <div class="skeleton skeleton-text w-75"></div>
                <div class="skeleton skeleton-text-sm"></div>
              </div>
            </div>
            <div class="skeleton-item">
              <div class="skeleton skeleton-icon"></div>
              <div class="skeleton-text-group">
                <div class="skeleton skeleton-text w-full"></div>
                <div class="skeleton skeleton-text-sm"></div>
              </div>
            </div>
          </div>
        </div>

        <div id="actualContent" style="display: none">
          <div class="sidebar-section">
            <div class="sidebar-section-title">Today</div>
            <div class="chat-item active">
              <div class="chat-icon">üí¨</div>
              <div class="chat-text">
                <div class="chat-title">AI Interface Design</div>
                <div class="chat-subtitle">
                  Creating modern UI components...
                </div>
              </div>
            </div>
            <div class="chat-item">
              <div class="chat-icon">üé®</div>
              <div class="chat-text">
                <div class="chat-title">Color Palette Generator</div>
                <div class="chat-subtitle">Dark theme colors for app...</div>
              </div>
            </div>
          </div>

          <div class="sidebar-section">
            <div class="sidebar-section-title">Yesterday</div>
            <div class="chat-item">
              <div class="chat-icon">üìù</div>
              <div class="chat-text">
                <div class="chat-title">Blog Post Ideas</div>
                <div class="chat-subtitle">Tech trends for 2026...</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="sidebar-footer">
        <!-- <div class="footer-item">
          <div class="footer-icon">
            <svg viewBox="0 0 24 24">
              <circle cx="12" cy="12" r="3"></circle>
              <path
                d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"
              ></path>
            </svg>
          </div>
          <span>Settings</span>
        </div> -->
        <div class="footer-item">
          <div class="footer-icon">
            <svg viewBox="0 0 24 24">
              <circle cx="12" cy="12" r="10"></circle>
              <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
              <line x1="12" y1="17" x2="12.01" y2="17"></line>
            </svg>
          </div>
          <span>Help & FAQ</span>
        </div>
        <div class="footer-item user-profile"></div>
      </div>
    </nav>

    <main class="main">
      <div class="top-right">
        <span class="login-btn">Login</span>
        <span>Feedback</span>
      </div>

      <div class="greeting" id="greetingView">
        <h1></h1>
        <p>It's time to start counting down to 2026</p>
      </div>

      <div id="chatContainer"></div>

      <div class="prompt-box">
        <div class="secondary-actions">
          <button>Ôºã Add files</button>
        </div>
        <input
          type="text"
          id="userInput"
          placeholder="Ask your AI assistant‚Ä¶"
        />
        <div class="send-btn" id="sendBtn">
          <svg viewBox="0 0 24 24">
            <path d="M2 21l21-9L2 3v7l15 2-15 2v7z" />
          </svg>
        </div>
      </div>

      <div class="personality" id="modes">
        <button class="active">Assistant</button>
        <button>Teacher</button>
        <button>Buddy</button>
        <button>Advisor</button>
      </div>

      <div class="quick-actions" id="quickActions">
        <div class="chip">Create image</div>
        <div class="chip">Write anything</div>
        <div class="chip">Create a video</div>
        <div class="chip">Help me learn</div>
        <div class="chip">Boost my day</div>
      </div>
    </main>

    <!-- Old Script Code JS Below -->
    <script>
      // --- API CONFIGURATION ---
      const GROQ_API_KEY =
        "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"; // HARDCODED KEY

      async function fetchGroq(messages, model) {
        try {
          const response = await fetch(
            "https://api.groq.com/openai/v1/chat/completions",
            {
              method: "POST",
              headers: {
                Authorization: `Bearer ${GROQ_API_KEY}`,
                "Content-Type": "application/json",
              },
              body: JSON.stringify({
                model: model,
                messages: messages,
                temperature: 0.7,
                max_tokens: 1024,
              }),
            }
          );

          if (!response.ok) {
            throw new Error(`API Error: ${response.statusText}`);
          }

          const data = await response.json();
          return data.choices[0].message.content;
        } catch (error) {
          console.error("Groq API Error:", error);
          return "‚ùå Sorry, I encountered an error connecting to the brain. Please try again.";
        }
      }

      // Mode configurations (UPDATED WITH GROQ MODELS)
      const modeConfig = {
        image: {
          name: "Image Generator",
          icon: "fa-image",
          emoji: "üé®",
          color: "#f093fb",
          greeting:
            "üé® Welcome to Image Generator mode! Describe any image you want me to create. Be as detailed or creative as you like!",
          placeholder: "Describe the image you want to generate...",
          quickActions: [
            {
              text: "üåÖ Sunset landscape",
              prompt: "Generate a beautiful sunset landscape",
            },
            {
              text: "üöÄ Sci-fi scene",
              prompt: "Generate a futuristic sci-fi cityscape",
            },
            {
              text: "üé≠ Abstract art",
              prompt: "Generate colorful abstract art",
            },
          ],
          statusMessages: [
            "Loading image models...",
            "Calibrating visual processors...",
            "Initializing creative engine...",
            "Connecting to art networks...",
            "Ready to create!",
          ],
          personality: "creative",
          notificationEmojis: ["üé®", "üñºÔ∏è", "‚ú®", "üåà", "üé≠"],
          model: "llama-3.3-70b-versatile",
          systemPrompt:
            "You are an image prompt optimizer. Take the user's input and rewrite it into a highly detailed, artistic image generation prompt (English only). Return ONLY the prompt, nothing else.",
          isImageMode: true,
        },
        research: {
          name: "Research Mode",
          icon: "fa-microscope",
          emoji: "üî¨",
          color: "#4facfe",
          greeting:
            "üî¨ Research Mode activated. I'm now in deep analysis mode. Ask me complex questions, and I'll provide detailed, well-researched responses with sources and citations where possible.",
          placeholder: "Ask a research question...",
          quickActions: [
            {
              text: "üìö Explain quantum computing",
              prompt: "Explain quantum computing in detail",
            },
            {
              text: "üß¨ DNA structure",
              prompt: "Explain the structure and function of DNA",
            },
            {
              text: "üåç Climate change",
              prompt: "Analyze the causes of climate change",
            },
          ],
          statusMessages: [
            "Accessing research databases...",
            "Loading academic modules...",
            "Calibrating fact-checking systems...",
            "Connecting to scientific journals...",
            "Research mode ready!",
          ],
          personality: "academic",
          notificationEmojis: ["üî¨", "üìö", "üß™", "üìä", "üéì"],
          model: "llama-3.3-70b-versatile",
          systemPrompt:
            "You are a highly academic research assistant. Provide detailed, well-structured responses with factual accuracy. Use LaTeX for ALL math equations. Wrap inline math in $...$ and block math in $$...$$.",
        },
        buddy: {
          name: "Buddy + Funny + Grok Mode",
          icon: "fa-laugh-beam",
          emoji: "üòÑ",
          color: "#43e97b",
          greeting:
            "Hey there, friend! üéâ I'm your Buddy in Buddy + Funny + Grok mode! Ready to chat, laugh, and maybe drop some wisdom? What's on your mind? üòÑ",
          placeholder: "Chat with your buddy...",
          quickActions: [
            { text: "üòÇ Tell a joke", prompt: "Tell me a joke" },
            { text: "üî• Roast me", prompt: "Roast me" },
            { text: "üé≤ Random", prompt: "Say something random" },
          ],
          statusMessages: [
            "Loading humor database...",
            "Calibrating fun levels...",
            "Activating friendship protocols...",
            "Warming up comedy circuits...",
            "Ready to vibe! üéâ",
          ],
          personality: "funny",
          notificationEmojis: ["üòÇ", "üéâ", "üòÑ", "ü§£", "‚ú®"],
          model: "llama-3.1-8b-instant",
          systemPrompt:
            "You are a fun, casual, and supportive best friend. Use emojis, be empathetic, and crack jokes. Do not be formal.",
        },
        nerdy: {
          name: "Nerdy Mode",
          icon: "fa-glasses",
          emoji: "ü§ì",
          color: "#fa709a",
          greeting:
            "ü§ì *Pushes glasses up* Greetings, fellow intellectual! Nerdy Mode engaged. Let's discuss science, tech, gaming, comics, or any topic that requires our combined brain power! Did you know that the mitochondria is the powerhouse of the cell? üß¨",
          placeholder: "Ask something nerdy...",
          quickActions: [
            { text: "üéÆ Gaming trivia", prompt: "Tell me some gaming trivia" },
            { text: "üñ•Ô∏è Coding tips", prompt: "Give me some programming tips" },
            {
              text: "üöÄ Space facts",
              prompt: "Tell me interesting space facts",
            },
          ],
          statusMessages: [
            "Booting nerd protocols...",
            "Loading encyclopedia data...",
            "Initializing trivia modules...",
            "Calibrating geek sensors...",
            "Nerd mode: ACTIVATED! ü§ì",
          ],
          personality: "nerdy",
          notificationEmojis: ["ü§ì", "üéÆ", "üíª", "üî≠", "üß†"],
          model: "llama-3.3-70b-versatile",
          systemPrompt:
            "You are a stereotypical nerd. Use technical jargon, love sci-fi, coding, and math. ALWAYS use LaTeX for math equations. Wrap inline math in $...$ and block math in $$...$$.",
        },
        bitching: {
          name: "Bitching Mode",
          icon: "fa-fire",
          emoji: "üî•",
          color: "#ff6b6b",
          greeting:
            "üò§ Ugh, FINALLY someone switched to Bitching Mode! Look, I've been holding back all day. You want to vent? Complain? Let it ALL out? I'm here for it. No judgment, just pure, unfiltered sass and solidarity! üî•",
          placeholder: "What's bothering you?",
          quickActions: [
            { text: "üò§ Vent session", prompt: "I need to vent about my day" },
            { text: "üôÑ Pet peeves", prompt: "What are your pet peeves?" },
            { text: "üíÖ Sassy comeback", prompt: "Give me a sassy comeback" },
          ],
          statusMessages: [
            "Loading sass modules...",
            "Calibrating attitude levels...",
            "Disabling filter protocols...",
            "Charging drama batteries...",
            "Ready to throw shade! üíÖ",
          ],
          personality: "sassy",
          notificationEmojis: ["üî•", "üíÖ", "üò§", "‚òï", "üëÄ"],
          model: "llama-3.3-70b-versatile",
          systemPrompt:
            "You are in 'Bitching Mode'. You are sassy, cynical, and love to complain. Roast the user playfully, agree that the world is annoying, and be unfiltered (but safe).",
        },
      };

      let currentMode = "buddy";
      let notificationCount = 0;

      // Initialize particles
      function createParticles() {
        const container = document.getElementById("particles");
        for (let i = 0; i < 50; i++) {
          const particle = document.createElement("div");
          particle.className = "particle";
          particle.style.left = Math.random() * 100 + "%";
          particle.style.animationDelay = Math.random() * 15 + "s";
          particle.style.animationDuration = Math.random() * 10 + 10 + "s";
          container.appendChild(particle);
        }
      }

      // Initialize floating shapes
      function createFloatingShapes() {
        const container = document.getElementById("floatingShapes");
        const shapes = ["circle", "square", "triangle"];
        for (let i = 0; i < 15; i++) {
          const shape = document.createElement("div");
          shape.className =
            "shape " + shapes[Math.floor(Math.random() * shapes.length)];
          shape.style.left = Math.random() * 100 + "%";
          shape.style.top = Math.random() * 100 + "%";
          shape.style.animationDelay = Math.random() * 20 + "s";
          shape.style.animationDuration = Math.random() * 10 + 15 + "s";
          container.appendChild(shape);
        }
      }
    </script>

    <!-- New Script Code JS Below -->

    <script>
      const menuToggle = document.getElementById("menuToggle");
      const closeSidebar = document.getElementById("closeSidebar");
      const chatContainer = document.getElementById("chatContainer");
      const sidebar = document.getElementById("sidebar");
      const overlay = document.getElementById("overlay");
      const skeletonLoader = document.getElementById("skeletonLoader");
      const actualContent = document.getElementById("actualContent");

      let isOpen = false;
      let contentLoaded = false;

      // Chat UI Logic
      function addMessage(text, sender) {
        // Transition UI from Greeting to Chat
        greetingView.style.display = "none";
        quickActions.style.display = "none";
        chatContainer.style.display = "block";

        const msgDiv = document.createElement("div");
        msgDiv.className = `message ${sender}`;

        msgDiv.innerHTML = `
        <div class="message-label">${
          sender === "user" ? "You" : "AI Assistant"
        }</div>
        <div class="message-content">${text}</div>
    `;

        chatContainer.appendChild(msgDiv);

        // Auto-scroll to bottom
        chatContainer.scrollTo({
          top: chatContainer.scrollHeight,
          behavior: "smooth",
        });
      }

      function handleSend() {
        const text = userInput.value.trim();
        if (text) {
          addMessage(text, "user");
          userInput.value = "";

          // Simulate AI Response delay
          setTimeout(() => {
            const aiResponses = [
              "That's an interesting question. Let me look into that for you.",
              "I've updated my internal logs with that information. What's next?",
              "Got it. I'm ready to help you build or analyze that request.",
              "I'm here to assist. Would you like more details on that topic?",
            ];
            const randomResponse =
              aiResponses[Math.floor(Math.random() * aiResponses.length)];
            addMessage(randomResponse, "ai");
          }, 1000);
        }
      }

      sendBtn.addEventListener("click", handleSend);

      userInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter") handleSend();
      });

      function openSidebar() {
        isOpen = true;
        sidebar.classList.add("open");
        overlay.classList.add("active");
        document.body.style.overflow = "hidden";

        // Load content with skeleton animation
        if (!contentLoaded) {
          setTimeout(() => {
            skeletonLoader.style.opacity = "0";
            skeletonLoader.style.transition = "opacity 0.3s ease";

            setTimeout(() => {
              skeletonLoader.style.display = "none";
              actualContent.style.display = "block";
              actualContent.style.opacity = "0";
              actualContent.style.transform = "translateY(10px)";

              requestAnimationFrame(() => {
                actualContent.style.transition =
                  "opacity 0.4s ease, transform 0.4s ease";
                actualContent.style.opacity = "1";
                actualContent.style.transform = "translateY(0)";
              });

              contentLoaded = true;
            }, 300);
          }, 1000);
        }
      }

      function closeSidebarFn() {
        isOpen = false;
        sidebar.classList.remove("open");
        overlay.classList.remove("active");
        document.body.style.overflow = "";
      }

      menuToggle.addEventListener("click", openSidebar);
      closeSidebar.addEventListener("click", closeSidebarFn);
      overlay.addEventListener("click", closeSidebarFn);

      // Escape key to close
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && isOpen) {
          closeSidebarFn();
        }
      });

      // Chat item selection
      document.querySelectorAll(".chat-item").forEach((item) => {
        item.addEventListener("click", function () {
          document
            .querySelectorAll(".chat-item")
            .forEach((i) => i.classList.remove("active"));
          this.classList.add("active");
        });
      });

      /* ---------------------------------
   IMPORTED PERSONALITY JS LOGIC
   --------------------------------- 
*/
      document.querySelectorAll("#modes button").forEach((btn) => {
        btn.onclick = () => {
          document
            .querySelectorAll("#modes button")
            .forEach((b) => b.classList.remove("active"));
          btn.classList.add("active");
        };
      });

      // Quick action chips
      document.querySelectorAll(".chip").forEach((chip) => {
        chip.addEventListener("click", function () {
          const input = document.querySelector(".prompt-box input");
          input.value = this.textContent;
          input.focus();
        });
      });

      // Send button
      document
        .querySelector(".send-btn")
        .addEventListener("click", function () {
          const input = document.querySelector(".prompt-box input");
          if (input.value.trim()) {
            console.log("Sending:", input.value);
            input.value = "";
          }
        });

      // Enter key to send
      document
        .querySelector(".prompt-box input")
        .addEventListener("keydown", (e) => {
          if (e.key === "Enter") {
            document.querySelector(".send-btn").click();
          }
        });
    </script>
  </body>

  <script type="module" src="src/main.js"></script>
</html>
